{"version":3,"file":"BasicFmsInfo.stories-2c2bfdbe.js","sources":["../../src/components/basic-fms-info/index.ts"],"sourcesContent":["/* eslint-disable no-bitwise */\r\nimport { html, css, LitElement } from 'lit';\r\nimport { property } from 'lit/decorators.js';\r\nimport '../icon';\r\n\r\nconst ENABLED_FLAG = 0x01;\r\nconst AUTO_FLAG = 0x02;\r\nconst TEST_FLAG = 0x04;\r\nconst EMERGENCY_STOP_FLAG = 0x08;\r\nconst FMS_ATTACHED_FLAG = 0x10;\r\nconst DS_ATTACHED_FLAG = 0x20;\r\n\r\nconst MATCH_TYPES = ['Unknown', 'Practice', 'Qualification', 'Elimination'];\r\n\r\nexport default class BasicFmsInfo extends LitElement {\r\n  @property({ type: Number, attribute: 'match-type' }) matchType = 0;\r\n  @property({ type: Number, attribute: 'match-number' }) matchNumber = 0;\r\n  @property({ type: String, attribute: 'event-name' }) eventName = '';\r\n  @property({ type: Number, attribute: 'fms-control-data' }) fmsControlData = 0;\r\n\r\n  static styles = css`\r\n    p {\r\n      margin: 5px 0;\r\n    }\r\n    p:first-child {\r\n      margin-top: 0;\r\n    }\r\n    p:last-child {\r\n      margin: 0;\r\n    }\r\n    :host {\r\n      text-align: center;\r\n      font-size: 15px;\r\n      display: inline-flex;\r\n      width: auto;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      font-family: sans-serif;\r\n      color: var(--frc-basic-fms-info-text-color, #000);\r\n    }\r\n\r\n    .info {\r\n      display: inline-flex;\r\n      align-items: center;\r\n      gap: 3px;\r\n    }\r\n  `;\r\n\r\n  getRobotState(): string {\r\n    if (this.isEnabled()) {\r\n      if (this.isTest()) {\r\n        return 'Test';\r\n      }\r\n      if (this.isAuto()) {\r\n        return 'Autonomous';\r\n      }\r\n      return 'Teleoperated';\r\n    }\r\n    return 'Disabled';\r\n  }\r\n\r\n  isEnabled(): boolean {\r\n    return !!(this.fmsControlData & ENABLED_FLAG);\r\n  }\r\n\r\n  isAuto(): boolean {\r\n    return !!(this.fmsControlData & AUTO_FLAG);\r\n  }\r\n\r\n  isTest(): boolean {\r\n    return !!(this.fmsControlData & TEST_FLAG);\r\n  }\r\n\r\n  isEmergencyStopped(): boolean {\r\n    return !!(this.fmsControlData & EMERGENCY_STOP_FLAG);\r\n  }\r\n\r\n  isFmsAttached(): boolean {\r\n    return !!(this.fmsControlData & FMS_ATTACHED_FLAG);\r\n  }\r\n\r\n  isDsAttached(): boolean {\r\n    return !!(this.fmsControlData & DS_ATTACHED_FLAG);\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <p>\r\n        <strong>\r\n          <span>${this.eventName}</span>\r\n          <span>${MATCH_TYPES[this.matchType]}</span>\r\n          <span>match ${this.matchNumber}</span>\r\n        </strong>\r\n      </p>\r\n\r\n      <p style=\"margin-bottom: 7px; font-weight: normal\">\r\n        <span style=\"margin-right: 5px;\">\r\n          ${this.isFmsAttached()\r\n            ? html`\r\n                <span class=\"info\">\r\n                  <frc-icon icon=\"check\" color=\"green\"></frc-icon>\r\n                  FMS connected\r\n                </span>\r\n              `\r\n            : html`\r\n                <span class=\"info\">\r\n                  <frc-icon icon=\"close\" color=\"red\"></frc-icon>\r\n                  FMS disconnected\r\n                </span>\r\n              `}\r\n        </span>\r\n        <span>\r\n          ${this.isDsAttached()\r\n            ? html`\r\n                <span class=\"info\">\r\n                  <frc-icon icon=\"check\" color=\"green\"></frc-icon>\r\n                  DriverStation connected\r\n                </span>\r\n              `\r\n            : html`\r\n                <span class=\"info\">\r\n                  <frc-icon icon=\"close\" color=\"red\"></frc-icon>\r\n                  DriverStation disconnected\r\n                </span>\r\n              `}\r\n        </span>\r\n      </p>\r\n      <p style=\"font-weight: normal\">Robot state: ${this.getRobotState()}</p>\r\n    `;\r\n  }\r\n}\r\n\r\nif (!customElements.get('frc-basic-fms-info')) {\r\n  customElements.define('frc-basic-fms-info', BasicFmsInfo);\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'frc-basic-fms-info': BasicFmsInfo;\r\n  }\r\n}\r\n"],"names":["ENABLED_FLAG","AUTO_FLAG","TEST_FLAG","EMERGENCY_STOP_FLAG","FMS_ATTACHED_FLAG","DS_ATTACHED_FLAG","MATCH_TYPES","BasicFmsInfo","LitElement","html","css","__decorateClass","property"],"mappings":"8XAKA,MAAMA,EAAe,EACfC,EAAY,EACZC,EAAY,EACZC,EAAsB,EACtBC,EAAoB,GACpBC,EAAmB,GAEnBC,EAAc,CAAC,UAAW,WAAY,gBAAiB,aAAa,EAE1E,MAAqBC,UAAqBC,CAAW,CAArD,aAAA,CAAA,MAAA,GAAA,SAAA,EACmE,KAAA,UAAA,EACI,KAAA,YAAA,EACJ,KAAA,UAAA,GACW,KAAA,eAAA,CAAA,CA8B5E,eAAwB,CAClB,OAAA,KAAK,YACH,KAAK,SACA,OAEL,KAAK,SACA,aAEF,eAEF,UACT,CAEA,WAAqB,CACZ,MAAA,CAAC,EAAE,KAAK,eAAiBR,EAClC,CAEA,QAAkB,CACT,MAAA,CAAC,EAAE,KAAK,eAAiBC,EAClC,CAEA,QAAkB,CACT,MAAA,CAAC,EAAE,KAAK,eAAiBC,EAClC,CAEA,oBAA8B,CACrB,MAAA,CAAC,EAAE,KAAK,eAAiBC,EAClC,CAEA,eAAyB,CAChB,MAAA,CAAC,EAAE,KAAK,eAAiBC,EAClC,CAEA,cAAwB,CACf,MAAA,CAAC,EAAE,KAAK,eAAiBC,EAClC,CAEA,QAAS,CACA,OAAAI;AAAAA;AAAAA;AAAAA,kBAGO,KAAK;AAAA,kBACLH,EAAY,KAAK;AAAA,wBACX,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMjB,KAAK,cACH,EAAAG;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,gBAMAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,YAQF,KAAK,aACH,EAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,gBAMAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,oDAQsC,KAAK;KAEvD,CACF,CApHqBF,EAMZ,OAASG;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,IALqCC,EAAA,CAApDC,EAAS,CAAE,KAAM,OAAQ,UAAW,aAAc,CAAA,EADhCL,EACkC,UAAA,YAAA,CAAA,EACEI,EAAA,CAAtDC,EAAS,CAAE,KAAM,OAAQ,UAAW,eAAgB,CAAA,EAFlCL,EAEoC,UAAA,cAAA,CAAA,EACFI,EAAA,CAApDC,EAAS,CAAE,KAAM,OAAQ,UAAW,aAAc,CAAA,EAHhCL,EAGkC,UAAA,YAAA,CAAA,EACMI,EAAA,CAA1DC,EAAS,CAAE,KAAM,OAAQ,UAAW,mBAAoB,CAAA,EAJtCL,EAIwC,UAAA,iBAAA,CAAA,EAkHxD,eAAe,IAAI,oBAAoB,GAC3B,eAAA,OAAO,qBAAsBA,CAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}