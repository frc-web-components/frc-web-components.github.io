{"version":3,"file":"canvas-6208d990.js","sources":["../../node_modules/@lit/reactive-element/decorators/query-all.js","../../src/components/canvas/canvas-line.ts","../../src/components/canvas/canvas-rect.ts","../../src/components/canvas/canvas-circle.ts","../../src/components/canvas/canvas-ngon.ts","../../src/components/canvas/canvas-group.ts","../../src/components/canvas/canvas-text.ts","../../node_modules/lit/node_modules/lit-html/directives/keyed.js","../../node_modules/lodash.throttle/index.js","../../src/components/canvas/canvas-mjpg-stream-instance.ts","../../src/components/canvas/canvas-mjpg-stream.ts","../../src/components/canvas/canvas.ts"],"sourcesContent":["import{decorateProperty as r}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function e(e){return r({descriptor:r=>({get(){var r,o;return null!==(o=null===(r=this.renderRoot)||void 0===r?void 0:r.querySelectorAll(e))&&void 0!==o?o:[]},enumerable:!0,configurable:!0})})}export{e as queryAll};\n//# sourceMappingURL=query-all.js.map\n","/* eslint-disable no-underscore-dangle */\r\n/* eslint-disable no-param-reassign */\r\nimport { property, state } from 'lit/decorators.js';\r\nimport { LitElement } from 'lit';\r\nimport { CanvasObjectApi } from './interfaces';\r\nimport getPoses from '../field/get-poses';\r\n\r\ntype XOrigin = 'left' | 'center' | 'right';\r\ntype YOrigin = 'top' | 'center' | 'bottom';\r\n\r\nexport default class CanvasLine extends LitElement {\r\n  @property({ type: Array }) points: Uint8Array | number[] = [];\r\n  @property({ type: Number }) opacity = 1;\r\n  @property({ type: String }) color: string | null = null;\r\n  @property({ type: Number, attribute: 'line-width' }) lineWidth = 2;\r\n  @property({ type: Array }) transform: number[] | null = [0, 0, 0];\r\n  @property({ type: Array, attribute: 'transform-origin' }) transformOrigin:\r\n    | number[]\r\n    | null = [0, 0];\r\n  @property({ type: Array, attribute: 'draw-origin' }) drawOrigin:\r\n    | [XOrigin, YOrigin]\r\n    | null = ['left', 'top'];\r\n  @property({ type: Array, attribute: 'z-index' }) zIndex = 0;\r\n\r\n  @state() _points: (Uint8Array | number[])[] = [];\r\n\r\n  protected updated(changedProps: Map<string, unknown>): void {\r\n    if (changedProps.has('points')) {\r\n      this._points = getPoses(this.points, 2);\r\n    }\r\n  }\r\n\r\n  protected draw({ ctx }: CanvasObjectApi): void {\r\n    ctx.globalAlpha = Math.max(0, Math.min(1, this.opacity));\r\n    ctx.lineWidth = this.lineWidth ?? 2;\r\n    ctx.strokeStyle = this.color ?? 'gray';\r\n\r\n    const [transformX, transformY, transformRotation] = this.transform ?? [\r\n      0, 0, 0,\r\n    ];\r\n\r\n    ctx.translate(transformX, transformY);\r\n\r\n    const [XTransformOrigin, yTransformOrigin] = this.transformOrigin ?? [0, 0];\r\n\r\n    const xTranform = XTransformOrigin;\r\n    const yTranform = yTransformOrigin;\r\n    ctx.translate(xTranform, yTranform); // move the origin\r\n    ctx.rotate(-(transformRotation * Math.PI) / 180); // rotate\r\n    ctx.translate(-xTranform, -yTranform); // move the origin back\r\n\r\n    if (this._points.length > 1) {\r\n      for (let i = 0; i < this._points.length - 1; i += 1) {\r\n        const [x1, y1] = this._points[i];\r\n        const [x2, y2] = this._points[i + 1];\r\n        ctx.moveTo(x1, y1);\r\n        ctx.lineTo(x2, y2);\r\n      }\r\n\r\n      ctx.stroke();\r\n    }\r\n  }\r\n}\r\n\r\nif (!customElements.get('frc-canvas-line')) {\r\n  customElements.define('frc-canvas-line', CanvasLine);\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'frc-canvas-line': CanvasLine;\r\n  }\r\n}\r\n","/* eslint-disable no-param-reassign */\r\nimport { property } from 'lit/decorators.js';\r\nimport { LitElement } from 'lit';\r\nimport { CanvasObjectApi } from './interfaces';\r\n\r\ntype XOrigin = 'left' | 'center' | 'right';\r\ntype YOrigin = 'top' | 'center' | 'bottom';\r\n\r\nexport default class CanvasRect extends LitElement {\r\n  @property({ type: Array }) origin: [number, number] = [0, 0];\r\n  @property({ type: Number }) width = 10;\r\n  @property({ type: Number }) height = 10;\r\n  @property({ type: Number }) radii = 0;\r\n  @property({ type: Number }) opacity = 1;\r\n  @property({ type: String, attribute: 'stroke-color' }) strokeColor:\r\n    | string\r\n    | null = null;\r\n  @property({ type: Number, attribute: 'stroke-width' }) strokeWidth = 2;\r\n  @property({ type: String, attribute: 'fill-color' }) fillColor:\r\n    | string\r\n    | null = 'gray';\r\n  @property({ type: Array }) transform: number[] | null = [0, 0, 0];\r\n  @property({ type: Array, attribute: 'transform-origin' }) transformOrigin:\r\n    | number[]\r\n    | null = [0, 0];\r\n  @property({ type: Array, attribute: 'draw-origin' }) drawOrigin:\r\n    | [XOrigin, YOrigin]\r\n    | null = ['center', 'center'];\r\n  @property({ type: Array, attribute: 'z-index' }) zIndex = 0;\r\n\r\n  draw({ ctx }: CanvasObjectApi): void {\r\n    ctx.globalAlpha = Math.max(0, Math.min(1, this.opacity));\r\n    if (this.fillColor) {\r\n      ctx.fillStyle = this.fillColor;\r\n    }\r\n    if (this.strokeColor) {\r\n      ctx.strokeStyle = this.strokeColor;\r\n      ctx.lineWidth = this.strokeWidth;\r\n    }\r\n\r\n    let [x, y] = this.origin;\r\n    const [xDrawOrigin, yDrawOrigin] = this.drawOrigin ?? ['center', 'center'];\r\n\r\n    if (xDrawOrigin === 'center') {\r\n      x -= this.width / 2;\r\n    } else if (xDrawOrigin === 'right') {\r\n      x -= this.width;\r\n    }\r\n\r\n    if (yDrawOrigin === 'center') {\r\n      y -= this.height / 2;\r\n    } else if (yDrawOrigin === 'bottom') {\r\n      y -= this.height;\r\n    }\r\n\r\n    const [transformX, transformY, transformRotation] = this.transform ?? [\r\n      0, 0, 0,\r\n    ];\r\n\r\n    x += transformX;\r\n    y += transformY;\r\n\r\n    ctx.translate(x, y);\r\n\r\n    const [XTransformOrigin, yTransformOrigin] = this.transformOrigin ?? [0, 0];\r\n\r\n    const xTranform = XTransformOrigin + this.width / 2;\r\n    const yTranform = yTransformOrigin + this.height / 2;\r\n    ctx.translate(xTranform, yTranform); // move the origin\r\n    ctx.rotate(-(transformRotation * Math.PI) / 180); // rotate\r\n    ctx.translate(-xTranform, -yTranform); // move the origin back\r\n\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    // @ts-ignore\r\n    ctx.roundRect(0, 0, this.width, this.height, this.radii);\r\n\r\n    if (this.fillColor) {\r\n      ctx.fill();\r\n    }\r\n    if (this.strokeColor) {\r\n      ctx.stroke();\r\n    }\r\n  }\r\n}\r\n\r\nif (!customElements.get('frc-canvas-rect')) {\r\n  customElements.define('frc-canvas-rect', CanvasRect);\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'frc-canvas-rect': CanvasRect;\r\n  }\r\n}\r\n","/* eslint-disable no-param-reassign */\r\nimport { property } from 'lit/decorators.js';\r\nimport { LitElement } from 'lit';\r\nimport { CanvasObjectApi } from './interfaces';\r\n\r\ntype XOrigin = 'left' | 'center' | 'right';\r\ntype YOrigin = 'top' | 'center' | 'bottom';\r\n\r\nexport default class CanvasCircle extends LitElement {\r\n  @property({ type: Array }) origin: [number, number] = [0, 0];\r\n  @property({ type: Number }) radius = 10;\r\n  @property({ type: Number, attribute: 'start-angle' }) startAngle:\r\n    | number\r\n    | null = 0;\r\n  @property({ type: Number, attribute: 'end-angle' }) endAngle:\r\n    | number\r\n    | null = 360;\r\n  @property({ type: Number }) opacity = 1;\r\n  @property({ type: String, attribute: 'stroke-color' }) strokeColor:\r\n    | string\r\n    | null = null;\r\n  @property({ type: Number, attribute: 'stroke-width' }) strokeWidth = 2;\r\n  @property({ type: String, attribute: 'fill-color' }) fillColor:\r\n    | string\r\n    | null = 'gray';\r\n  @property({ type: Array }) transform: number[] | null = [0, 0, 0];\r\n  @property({ type: Array, attribute: 'transform-origin' }) transformOrigin:\r\n    | number[]\r\n    | null = [0, 0];\r\n  @property({ type: Array, attribute: 'draw-origin' }) drawOrigin:\r\n    | [XOrigin, YOrigin]\r\n    | null = ['center', 'center'];\r\n  @property({ type: Array, attribute: 'z-index' }) zIndex = 0;\r\n\r\n  draw({ ctx }: CanvasObjectApi): void {\r\n    ctx.globalAlpha = Math.max(0, Math.min(1, this.opacity));\r\n    if (this.fillColor) {\r\n      ctx.fillStyle = this.fillColor;\r\n    }\r\n    if (this.strokeColor) {\r\n      ctx.strokeStyle = this.strokeColor;\r\n      ctx.lineWidth = this.strokeWidth;\r\n    }\r\n\r\n    let [x, y] = this.origin;\r\n    const [xDrawOrigin, yDrawOrigin] = this.drawOrigin ?? ['center', 'center'];\r\n\r\n    if (xDrawOrigin === 'left') {\r\n      x += this.radius;\r\n    } else if (xDrawOrigin === 'right') {\r\n      x -= this.radius;\r\n    }\r\n\r\n    if (yDrawOrigin === 'top') {\r\n      y += this.radius;\r\n    } else if (yDrawOrigin === 'bottom') {\r\n      y -= this.radius;\r\n    }\r\n\r\n    const [transformX, transformY, transformRotation] = this.transform ?? [\r\n      0, 0, 0,\r\n    ];\r\n\r\n    x += transformX;\r\n    y += transformY;\r\n\r\n    ctx.translate(x, y);\r\n\r\n    const [XTransformOrigin, yTransformOrigin] = this.transformOrigin ?? [0, 0];\r\n\r\n    const xTranform = XTransformOrigin;\r\n    const yTranform = yTransformOrigin;\r\n    ctx.translate(xTranform, yTranform); // move the origin\r\n    ctx.rotate(-(transformRotation * Math.PI) / 180); // rotate\r\n    ctx.translate(-xTranform, -yTranform); // move the origin back\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n      0,\r\n      0,\r\n      this.radius,\r\n      (-(this.startAngle ?? 0) * Math.PI) / 180,\r\n      (-(this.endAngle ?? 360) * Math.PI) / 180,\r\n      true\r\n    );\r\n\r\n    if (this.fillColor) {\r\n      ctx.fill();\r\n    }\r\n    if (this.strokeColor) {\r\n      ctx.stroke();\r\n    }\r\n  }\r\n}\r\n\r\nif (!customElements.get('frc-canvas-circle')) {\r\n  customElements.define('frc-canvas-circle', CanvasCircle);\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'frc-canvas-circle': CanvasCircle;\r\n  }\r\n}\r\n","/* eslint-disable no-param-reassign */\r\nimport { property } from 'lit/decorators.js';\r\nimport { LitElement } from 'lit';\r\nimport { CanvasObjectApi } from './interfaces';\r\n\r\ntype XOrigin = 'left' | 'center' | 'right';\r\ntype YOrigin = 'top' | 'center' | 'bottom';\r\n\r\nexport default class CanvasNGon extends LitElement {\r\n  @property({ type: Array }) origin: [number, number] = [0, 0];\r\n  @property({ type: Number }) sides = 5;\r\n  @property({ type: Number }) radius = 10;\r\n  @property({ type: Number }) opacity = 1;\r\n  @property({ type: String, attribute: 'stroke-color' }) strokeColor:\r\n    | string\r\n    | null = null;\r\n  @property({ type: Number, attribute: 'stroke-width' }) strokeWidth = 2;\r\n  @property({ type: String, attribute: 'fill-color' }) fillColor:\r\n    | string\r\n    | null = 'gray';\r\n  @property({ type: Array }) transform: number[] | null = [0, 0, 0];\r\n  @property({ type: Array, attribute: 'transform-origin' }) transformOrigin:\r\n    | number[]\r\n    | null = [0, 0];\r\n  @property({ type: Array, attribute: 'draw-origin' }) drawOrigin:\r\n    | [XOrigin, YOrigin]\r\n    | null = ['center', 'center'];\r\n  @property({ type: Array, attribute: 'z-index' }) zIndex = 0;\r\n\r\n  draw({ ctx }: CanvasObjectApi): void {\r\n    ctx.globalAlpha = Math.max(0, Math.min(1, this.opacity));\r\n    if (this.fillColor) {\r\n      ctx.fillStyle = this.fillColor;\r\n    }\r\n    if (this.strokeColor) {\r\n      ctx.strokeStyle = this.strokeColor;\r\n      ctx.lineWidth = this.strokeWidth;\r\n    }\r\n\r\n    let [x, y] = this.origin;\r\n    const [xDrawOrigin, yDrawOrigin] = this.drawOrigin ?? ['center', 'center'];\r\n\r\n    if (xDrawOrigin === 'left') {\r\n      x += this.radius;\r\n    } else if (xDrawOrigin === 'right') {\r\n      x -= this.radius;\r\n    }\r\n\r\n    if (yDrawOrigin === 'top') {\r\n      y += this.radius;\r\n    } else if (yDrawOrigin === 'bottom') {\r\n      y -= this.radius;\r\n    }\r\n\r\n    const [transformX, transformY, transformRotation] = this.transform ?? [\r\n      0, 0, 0,\r\n    ];\r\n\r\n    x += transformX;\r\n    y += transformY;\r\n\r\n    ctx.translate(x, y);\r\n\r\n    const [XTransformOrigin, yTransformOrigin] = this.transformOrigin ?? [0, 0];\r\n\r\n    const xTranform = XTransformOrigin;\r\n    const yTranform = yTransformOrigin;\r\n    ctx.translate(xTranform, yTranform); // move the origin\r\n    ctx.rotate(-(transformRotation * Math.PI) / 180); // rotate\r\n    ctx.translate(-xTranform, -yTranform); // move the origin back\r\n\r\n    if (this.sides < 3) return; // It's not a polygon if it has less than 3 sides\r\n    const angle = (Math.PI * 2) / this.sides; // Calculate the angle between the vertices\r\n\r\n    ctx.beginPath();\r\n\r\n    for (let i = 0; i < this.sides; i += 1) {\r\n      const currAngle = i * angle;\r\n      const xPos = this.radius * Math.cos(currAngle);\r\n      const yPos = this.radius * Math.sin(currAngle);\r\n      if (i === 0) {\r\n        ctx.moveTo(xPos, yPos); // Move to the first vertex without drawing anything\r\n      } else {\r\n        ctx.lineTo(xPos, yPos); // Draw a line to the next vertex\r\n      }\r\n    }\r\n\r\n    ctx.closePath(); // Connect the last vertex with the first\r\n\r\n    if (this.fillColor) {\r\n      ctx.fill();\r\n    }\r\n    if (this.strokeColor) {\r\n      ctx.stroke();\r\n    }\r\n  }\r\n}\r\n\r\nif (!customElements.get('frc-canvas-ngon')) {\r\n  customElements.define('frc-canvas-ngon', CanvasNGon);\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'frc-canvas-ngon': CanvasNGon;\r\n  }\r\n}\r\n","import { property } from 'lit/decorators.js';\r\nimport { LitElement } from 'lit';\r\nimport { CanvasObject, CanvasObjectApi } from './interfaces';\r\n\r\nexport default class CanvasGroup extends LitElement {\r\n  @property({ type: Array }) transform: number[] | null = [0, 0, 0];\r\n  @property({ type: Array, attribute: 'transform-origin' }) transformOrigin:\r\n    | number[]\r\n    | null = [0, 0];\r\n  @property({ type: Array, attribute: 'z-index' }) zIndex = 0;\r\n\r\n  draw(api: CanvasObjectApi): void {\r\n    const { ctx } = api;\r\n\r\n    // Transform\r\n    const [transformX, transformY, transformRotation] = this.transform ?? [\r\n      0, 0, 0,\r\n    ];\r\n\r\n    ctx.translate(transformX, transformY);\r\n\r\n    const [XTransformOrigin, yTransformOrigin] = this.transformOrigin ?? [0, 0];\r\n\r\n    const xTranform = XTransformOrigin;\r\n    const yTranform = yTransformOrigin;\r\n    ctx.translate(xTranform, yTranform); // move the origin\r\n    ctx.rotate(-(transformRotation * Math.PI) / 180); // rotate\r\n    ctx.translate(-xTranform, -yTranform); // move the origin back\r\n\r\n    // Draw children\r\n    [...this.children].forEach((child) => {\r\n      ctx.save();\r\n      ctx.beginPath();\r\n\r\n      const canvasObject = child as any as CanvasObject;\r\n      canvasObject.draw?.(api);\r\n\r\n      ctx.restore();\r\n    });\r\n  }\r\n}\r\n\r\nif (!customElements.get('frc-canvas-group')) {\r\n  customElements.define('frc-canvas-group', CanvasGroup);\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'frc-canvas-group': CanvasGroup;\r\n  }\r\n}\r\n","/* eslint-disable no-param-reassign */\r\nimport { property } from 'lit/decorators.js';\r\nimport { LitElement } from 'lit';\r\nimport { CanvasObjectApi } from './interfaces';\r\n\r\n// https://stackoverflow.com/questions/5026961/html5-canvas-ctx-filltext-wont-do-line-breaks\r\n\r\ntype XOrigin = 'left' | 'center' | 'right';\r\ntype YOrigin = 'top' | 'center' | 'bottom';\r\n\r\nexport default class CanvasText extends LitElement {\r\n  @property({ type: String }) text: string | null = '';\r\n  @property({ type: Array }) origin: [number, number] | null = [0, 0];\r\n  @property({ type: Number, attribute: 'max-width' }) maxWidth: number | null =\r\n    null;\r\n  @property({ type: String, attribute: 'font-name' }) fontName: string | null =\r\n    'sans-serif';\r\n  @property({ type: Number, attribute: 'font-size' }) fontSize:\r\n    | number\r\n    | null = 12;\r\n  @property({ type: Number }) opacity: number | null = 1;\r\n  @property({ type: String, attribute: 'stroke-color' }) strokeColor:\r\n    | string\r\n    | null = null;\r\n  @property({ type: Number, attribute: 'stroke-width' }) strokeWidth = 2;\r\n  @property({ type: String, attribute: 'fill-color' }) fillColor:\r\n    | string\r\n    | null = 'gray';\r\n  @property({ type: Array }) transform: number[] | null = [0, 0, 0];\r\n  @property({ type: Array, attribute: 'transform-origin' }) transformOrigin:\r\n    | number[]\r\n    | null = [0, 0];\r\n  @property({ type: Array, attribute: 'draw-origin' }) drawOrigin:\r\n    | [XOrigin, YOrigin]\r\n    | null = ['center', 'center'];\r\n  @property({ type: Array, attribute: 'z-index' }) zIndex = 0;\r\n\r\n  draw({ ctx }: CanvasObjectApi): void {\r\n    ctx.globalAlpha = Math.max(0, Math.min(1, this.opacity ?? 1));\r\n    if (this.fillColor) {\r\n      ctx.fillStyle = this.fillColor;\r\n    }\r\n    if (this.strokeColor) {\r\n      ctx.strokeStyle = this.strokeColor;\r\n    }\r\n\r\n    ctx.textAlign = 'center';\r\n    ctx.textBaseline = 'middle';\r\n    ctx.font = `${this.fontSize ?? 12}px ${this.fontName || 'sans-serif'}`;\r\n\r\n    let [x, y] = this.origin ?? [0, 0];\r\n    const { width, actualBoundingBoxAscent, actualBoundingBoxDescent } =\r\n      ctx.measureText(this.text ?? ''); // TextMetrics object\r\n    const height = actualBoundingBoxAscent + actualBoundingBoxDescent;\r\n\r\n    const [xDrawOrigin, yDrawOrigin] = this.drawOrigin ?? ['center', 'center'];\r\n\r\n    if (xDrawOrigin === 'left') {\r\n      x += width / 2;\r\n    } else if (xDrawOrigin === 'right') {\r\n      x -= width / 2;\r\n    }\r\n\r\n    if (yDrawOrigin === 'top') {\r\n      y += height / 2;\r\n    } else if (yDrawOrigin === 'bottom') {\r\n      y -= height / 2;\r\n    }\r\n\r\n    const [transformX, transformY, transformRotation] = this.transform ?? [\r\n      0, 0, 0,\r\n    ];\r\n\r\n    x += transformX;\r\n    y += transformY;\r\n\r\n    ctx.translate(x, y);\r\n\r\n    const [XTransformOrigin, yTransformOrigin] = this.transformOrigin ?? [0, 0];\r\n\r\n    const xTranform = XTransformOrigin;\r\n    const yTranform = yTransformOrigin;\r\n    ctx.translate(xTranform, yTranform); // move the origin\r\n    ctx.rotate(-(transformRotation * Math.PI) / 180); // rotate\r\n    ctx.translate(-xTranform, -yTranform); // move the origin back\r\n\r\n    if (this.fillColor) {\r\n      ctx.fillText(this.text ?? '', 0, 0);\r\n    }\r\n    if (this.strokeColor) {\r\n      ctx.lineWidth = this.strokeWidth ?? 2;\r\n      ctx.strokeText(this.text ?? '', 0, 0);\r\n    }\r\n  }\r\n}\r\n\r\nif (!customElements.get('frc-canvas-text')) {\r\n  customElements.define('frc-canvas-text', CanvasText);\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'frc-canvas-text': CanvasText;\r\n  }\r\n}\r\n","import{nothing as r}from\"../lit-html.js\";import{directive as t,Directive as e}from\"../directive.js\";import{setCommittedValue as s}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const i=t(class extends e{constructor(){super(...arguments),this.key=r}render(r,t){return this.key=r,t}update(r,[t,e]){return t!==this.key&&(s(r),this.key=t),e}});export{i as keyed};\n//# sourceMappingURL=keyed.js.map\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/* eslint-disable max-classes-per-file */\r\n/* eslint-disable no-underscore-dangle */\r\nimport { css, LitElement } from 'lit';\r\nimport { property } from 'lit/decorators.js';\r\nimport throttle from 'lodash.throttle';\r\nimport { CanvasObjectApi } from './interfaces';\r\n\r\nexport default class CanvasMjpgStreamInstance extends LitElement {\r\n  @property({ type: String }) src = '';\r\n  @property({ type: Number }) width: number | null = null;\r\n  @property({ type: Number }) height: number | null = null;\r\n  @property({ type: Array }) origin: [number, number] = [0, 0];\r\n  @property({ type: Boolean }) disabled = false;\r\n  @property({ type: Boolean, attribute: 'hide-crosshair' }) hideCrosshair =\r\n    false;\r\n  @property({ type: String, attribute: 'crosshair-color' }) crosshairColor =\r\n    'white';\r\n\r\n  private image = new Image();\r\n\r\n  private connected = false;\r\n  private loadedTimeout?: NodeJS.Timeout;\r\n  private throttleUpdateImage = throttle(() => this.updateImage(), 5000);\r\n  private onImageLoadBound = this.onImageLoad.bind(this);\r\n  private onImageErrorBound = this.onImageError.bind(this);\r\n\r\n  static styles = css`\r\n    :host {\r\n      display: inline-block;\r\n      width: 400px;\r\n      height: 300px;\r\n    }\r\n\r\n    canvas {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  `;\r\n\r\n  private getImageSize(canvas: HTMLCanvasElement): {\r\n    width: number;\r\n    height: number;\r\n  } {\r\n    const containerSize = {\r\n      width: this.width || canvas.width,\r\n      height: this.height || canvas.height,\r\n    };\r\n    if (\r\n      (this.image.height / this.image.width) * containerSize.width >\r\n      containerSize.height\r\n    ) {\r\n      return {\r\n        height: containerSize.height,\r\n        width: (this.image.width / this.image.height) * containerSize.height,\r\n      };\r\n    }\r\n    return {\r\n      height: (this.image.height / this.image.width) * containerSize.width,\r\n      width: containerSize.width,\r\n    };\r\n  }\r\n\r\n  protected draw({ ctx, canvas }: CanvasObjectApi): void {\r\n    const { width, height } = this.getImageSize(canvas);\r\n    const containerSize = {\r\n      width: this.width || canvas.width,\r\n      height: this.height || canvas.height,\r\n    };\r\n\r\n    const [x, y] = this.origin ?? [0, 0];\r\n\r\n    ctx.translate(x, y);\r\n\r\n    if (!this.connected) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const drawX = (containerSize.width - width) / 2;\r\n      const drawY = (containerSize.height - height) / 2;\r\n\r\n      ctx.drawImage(this.image, drawX, drawY, width, height);\r\n\r\n      // draw crosshair\r\n      if (!this.hideCrosshair) {\r\n        ctx.strokeStyle = this.crosshairColor || 'white';\r\n        ctx.lineWidth = 1;\r\n\r\n        ctx.beginPath();\r\n        ctx.setLineDash([7, 7]);\r\n        ctx.moveTo(drawX, drawY + height / 2);\r\n        ctx.lineTo(drawX + width, drawY + height / 2);\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.setLineDash([5, 5]);\r\n        ctx.moveTo(drawX + width / 2, drawY);\r\n        ctx.lineTo(drawX + width / 2, drawY + height);\r\n        ctx.stroke();\r\n      }\r\n    } catch (e) {\r\n      this.throttleUpdateImage();\r\n    }\r\n  }\r\n\r\n  disconnectedCallback(): void {\r\n    super.disconnectedCallback();\r\n    clearTimeout(this.loadedTimeout);\r\n    this.image.src = '';\r\n  }\r\n\r\n  connectedCallback(): void {\r\n    super.connectedCallback();\r\n    this.throttleUpdateImage();\r\n  }\r\n\r\n  private isImageLoaded() {\r\n    return this.image.complete && this.image.naturalHeight !== 0;\r\n  }\r\n\r\n  private updateImage() {\r\n    clearTimeout(this.loadedTimeout);\r\n\r\n    if (this.disabled) {\r\n      return;\r\n    }\r\n\r\n    if (!this.isConnected) {\r\n      this.setConnected(false);\r\n      return;\r\n    }\r\n\r\n    if (this.isImageLoaded()) {\r\n      return;\r\n    }\r\n\r\n    this.loadedTimeout = setTimeout(() => {\r\n      this.throttleUpdateImage();\r\n    }, 5000);\r\n    this.image.removeEventListener('load', this.onImageLoadBound);\r\n    this.image.removeEventListener('error', this.onImageErrorBound);\r\n    this.image.src = '';\r\n    this.image = new Image();\r\n    this.setConnected(false);\r\n    this.image.src = this.src ?? '';\r\n    this.image.addEventListener('load', this.onImageLoadBound);\r\n    this.image.addEventListener('error', this.onImageErrorBound);\r\n  }\r\n\r\n  private setConnected(connected: boolean) {\r\n    if (this.connected && !connected) {\r\n      this.connected = false;\r\n      this.dispatchDisconnect();\r\n    } else if (!this.connected && connected) {\r\n      this.connected = true;\r\n      this.dispatchConnect();\r\n    }\r\n  }\r\n\r\n  private onImageLoad() {\r\n    this.setConnected(true);\r\n    clearTimeout(this.loadedTimeout);\r\n  }\r\n\r\n  private onImageError() {\r\n    this.throttleUpdateImage();\r\n  }\r\n\r\n  private dispatchConnect(): void {\r\n    this.dispatchEvent(\r\n      new CustomEvent('connect', {\r\n        bubbles: true,\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  private dispatchDisconnect(): void {\r\n    this.dispatchEvent(\r\n      new CustomEvent('disconnect', {\r\n        bubbles: true,\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  protected updated(changedProps: Map<string, unknown>): void {\r\n    if (changedProps.has('src')) {\r\n      this.throttleUpdateImage();\r\n    }\r\n\r\n    if (changedProps.has('disabled')) {\r\n      if (this.disabled) {\r\n        clearTimeout(this.loadedTimeout);\r\n        this.image.src = '';\r\n      } else {\r\n        this.throttleUpdateImage();\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nif (!customElements.get('frc-canvas-mjpg-stream-instance')) {\r\n  customElements.define(\r\n    'frc-canvas-mjpg-stream-instance',\r\n    CanvasMjpgStreamInstance\r\n  );\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'frc-canvas-mjpg-stream-instance': CanvasMjpgStreamInstance;\r\n  }\r\n}\r\n","/* eslint-disable no-underscore-dangle */\r\nimport { LitElement, TemplateResult, html } from 'lit';\r\nimport { property, state, queryAll } from 'lit/decorators.js';\r\nimport { keyed } from 'lit/directives/keyed.js';\r\nimport { ifDefined } from 'lit/directives/if-defined.js';\r\nimport { CanvasObject, CanvasObjectApi } from './interfaces';\r\nimport './canvas-mjpg-stream-instance';\r\n\r\nexport default class CanvasMjpgStream extends LitElement {\r\n  static DEFAULT_WAIT_IMAGE = './no-camera-stream.jpg';\r\n\r\n  @property({ type: Array }) srcs: string[] = [];\r\n  @property({ type: Number }) width: number | null = null;\r\n  @property({ type: Number }) height: number | null = null;\r\n  @property({ type: Array }) origin: [number, number] = [0, 0];\r\n  @property({ type: String, attribute: 'wait-image' }) waitImage =\r\n    CanvasMjpgStream.DEFAULT_WAIT_IMAGE;\r\n  @property({ type: Boolean, attribute: 'hide-crosshair' }) hideCrosshair =\r\n    false;\r\n  @property({ type: String, attribute: 'crosshair-color' }) crosshairColor =\r\n    'white';\r\n\r\n  @state() _connectedSrc?: string;\r\n\r\n  @queryAll('frc-canvas-mjpg-stream-instance')\r\n  streamInstances!: NodeListOf<HTMLElement>;\r\n\r\n  private waitImageElement = new Image();\r\n\r\n  private getImageSize(canvas: HTMLCanvasElement): {\r\n    width: number;\r\n    height: number;\r\n  } {\r\n    const containerSize = {\r\n      width: this.width || canvas.width,\r\n      height: this.height || canvas.height,\r\n    };\r\n    if (\r\n      (this.waitImageElement.height / this.waitImageElement.width) *\r\n        containerSize.width >\r\n      containerSize.height\r\n    ) {\r\n      return {\r\n        height: containerSize.height,\r\n        width:\r\n          (this.waitImageElement.width / this.waitImageElement.height) *\r\n          containerSize.height,\r\n      };\r\n    }\r\n    return {\r\n      height:\r\n        (this.waitImageElement.height / this.waitImageElement.width) *\r\n        containerSize.width,\r\n      width: containerSize.width,\r\n    };\r\n  }\r\n\r\n  protected draw(api: CanvasObjectApi): void {\r\n    const { canvas, ctx } = api;\r\n    const streamInstance = [...this.streamInstances].find(\r\n      (child: any) => child.src === this._connectedSrc\r\n    ) as CanvasObject | undefined;\r\n\r\n    if (streamInstance) {\r\n      streamInstance.draw(api);\r\n    } else {\r\n      const { width, height } = this.getImageSize(canvas);\r\n      const containerSize = {\r\n        width: this.width || canvas.width,\r\n        height: this.height || canvas.height,\r\n      };\r\n\r\n      const [x, y] = this.origin ?? [0, 0];\r\n\r\n      ctx.translate(x, y);\r\n\r\n      try {\r\n        ctx.drawImage(\r\n          this.waitImageElement,\r\n          (containerSize.width - width) / 2,\r\n          (containerSize.height - height) / 2,\r\n          width,\r\n          height\r\n        );\r\n        // eslint-disable-next-line no-empty\r\n      } catch (e) {}\r\n    }\r\n  }\r\n\r\n  protected updated(changedProps: Map<string, unknown>): void {\r\n    if (changedProps.has('srcs')) {\r\n      if (this._connectedSrc && !this.srcs.includes(this._connectedSrc)) {\r\n        this._connectedSrc = undefined;\r\n      }\r\n    }\r\n\r\n    if (changedProps.has('waitImage')) {\r\n      this.waitImageElement.src = this.waitImage;\r\n    }\r\n  }\r\n\r\n  private onConnect(src: string) {\r\n    if (!this._connectedSrc) {\r\n      this._connectedSrc = src;\r\n    }\r\n  }\r\n\r\n  private onDisconnect(src: string) {\r\n    if (this._connectedSrc === src) {\r\n      this._connectedSrc = undefined;\r\n    }\r\n  }\r\n\r\n  private renderStreamInstance(src: string) {\r\n    return html`\r\n      ${keyed(\r\n        src,\r\n        html`\r\n          <frc-canvas-mjpg-stream-instance\r\n            @connect=${() => this.onConnect(src)}\r\n            @disconnect=${() => this.onDisconnect(src)}\r\n            src=${src}\r\n            width=${ifDefined(this.width !== null ? this.width : undefined)}\r\n            height=${ifDefined(this.height !== null ? this.height : undefined)}\r\n            .origin=${ifDefined(this.origin !== null ? this.origin : undefined)}\r\n            ?disabled=${this._connectedSrc && this._connectedSrc !== src}\r\n            ?hide-crosshair=${this.hideCrosshair}\r\n            crosshair-color=${this.crosshairColor}\r\n          ></frc-canvas-mjpg-stream-instance>\r\n        `\r\n      )}\r\n    `;\r\n  }\r\n\r\n  render(): TemplateResult {\r\n    return html`\r\n      ${this.srcs.map((src) =>\r\n        this.renderStreamInstance(src.replace('mjpg:', ''))\r\n      )}\r\n    `;\r\n  }\r\n}\r\n\r\nif (!customElements.get('frc-canvas-mjpg-stream')) {\r\n  customElements.define('frc-canvas-mjpg-stream', CanvasMjpgStream);\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'frc-canvas-mjpg-stream': CanvasMjpgStream;\r\n  }\r\n}\r\n","import { html, css, LitElement, TemplateResult } from 'lit';\r\nimport { property, query } from 'lit/decorators.js';\r\nimport { CanvasObject, CanvasObjectApi } from './interfaces';\r\nimport './canvas-line';\r\nimport './canvas-rect';\r\nimport './canvas-circle';\r\nimport './canvas-ngon';\r\nimport './canvas-group';\r\nimport './canvas-text';\r\nimport './canvas-mjpg-stream';\r\n\r\nexport default class Canvas extends LitElement {\r\n  @query('canvas') canvas!: HTMLCanvasElement;\r\n  @property({ type: Number }) width: number | null = null;\r\n  @property({ type: String, attribute: 'background-color' }) backgroundColor =\r\n    'black';\r\n\r\n  static styles = css`\r\n    :host {\r\n      display: inline-block;\r\n      width: 400px;\r\n      height: 300px;\r\n    }\r\n\r\n    canvas {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n\r\n    [part='box'] {\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-content: center;\r\n      flex-wrap: wrap;\r\n      background-color: var(--box-color);\r\n      text-align: center;\r\n    }\r\n  `;\r\n\r\n  private getCanvasCtx(): CanvasRenderingContext2D {\r\n    const ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    return ctx;\r\n  }\r\n\r\n  private drawChildren(): void {\r\n    const api: CanvasObjectApi = {\r\n      canvas: this.canvas,\r\n      ctx: this.getCanvasCtx(),\r\n      domRect: this.getBoundingClientRect(),\r\n    };\r\n\r\n    [...this.children].forEach((child) => {\r\n      const ctx = this.getCanvasCtx();\r\n      ctx.save();\r\n      ctx.beginPath();\r\n\r\n      const canvasObject = child as any as CanvasObject;\r\n      canvasObject.draw?.(api);\r\n\r\n      ctx.restore();\r\n    });\r\n  }\r\n\r\n  private drawBackground(): void {\r\n    const ctx = this.getCanvasCtx();\r\n    ctx.save();\r\n    ctx.fillStyle = this.backgroundColor;\r\n    ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n    ctx.restore();\r\n  }\r\n\r\n  private drawCanvas(): void {\r\n    this.drawBackground();\r\n    this.drawChildren();\r\n\r\n    window.requestAnimationFrame(() => {\r\n      this.drawCanvas();\r\n    });\r\n  }\r\n\r\n  protected firstUpdated(): void {\r\n    this.drawCanvas();\r\n\r\n    // resize observer\r\n    const observer = new ResizeObserver(() => this.resized());\r\n    observer.observe(this);\r\n    this.resized();\r\n  }\r\n\r\n  private resized() {\r\n    const rect = this.getBoundingClientRect();\r\n    const { width, height } = rect;\r\n\r\n    if (typeof this.width !== 'number') {\r\n      this.canvas.width = width;\r\n      this.canvas.height = height;\r\n    } else {\r\n      this.canvas.width = this.width;\r\n      this.canvas.height = (this.width * height) / width;\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  protected render(): TemplateResult {\r\n    return html` <canvas></canvas> `;\r\n  }\r\n}\r\n\r\nif (!customElements.get('frc-canvas')) {\r\n  customElements.define('frc-canvas', Canvas);\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'frc-canvas': Canvas;\r\n  }\r\n}\r\n"],"names":["e","r","o","CanvasLine","LitElement","changedProps","getPoses","ctx","transformX","transformY","transformRotation","XTransformOrigin","yTransformOrigin","xTranform","yTranform","i","x1","y1","x2","y2","__decorateClass","property","state","CanvasRect","x","y","xDrawOrigin","yDrawOrigin","CanvasCircle","CanvasNGon","angle","currAngle","xPos","yPos","CanvasGroup","api","child","canvasObject","_a","CanvasText","width","actualBoundingBoxAscent","actualBoundingBoxDescent","height","t","s","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","objectProto","objectToString","nativeMax","nativeMin","now","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","throttle","value","type","isObjectLike","isSymbol","other","isBinary","lodash_throttle","CanvasMjpgStreamInstance","canvas","containerSize","drawX","drawY","connected","css","_CanvasMjpgStream","streamInstance","src","html","keyed","ifDefined","CanvasMjpgStream","queryAll","Canvas","rect","query"],"mappings":"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","x_google_ignoreList":[0,7,8]}