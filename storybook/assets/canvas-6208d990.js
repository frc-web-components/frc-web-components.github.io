import{s as S,w as it,r as Q,$ as B}from"./lit-element-ac510585.js";import{e as o}from"./query-assigned-elements-bd4ea1f7.js";import{o as st,i as ot}from"./query-839578ff.js";import{t as V}from"./state-54413a7c.js";import{g as nt}from"./get-poses-54352fcb.js";import{e as at,a as ht}from"./style-map-70149a85.js";import{s as lt}from"./directive-helpers-5324feae.js";import{l as U}from"./if-defined-a8bd05d9.js";import{c as W}from"./_commonjsHelpers-725317a4.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ct(s){return st({descriptor:t=>({get(){var r,i;return(i=(r=this.renderRoot)===null||r===void 0?void 0:r.querySelectorAll(s))!==null&&i!==void 0?i:[]},enumerable:!0,configurable:!0})})}var pt=Object.defineProperty,ft=Object.getOwnPropertyDescriptor,A=(s,t,r,i)=>{for(var e=i>1?void 0:i?ft(t,r):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(e=(i?a(t,r,e):a(e))||e);return i&&e&&pt(t,r,e),e};class _ extends S{constructor(){super(...arguments),this.points=[],this.opacity=1,this.color=null,this.lineWidth=2,this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["left","top"],this.zIndex=0,this._points=[]}updated(t){t.has("points")&&(this._points=nt(this.points,2))}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),t.lineWidth=this.lineWidth??2,t.strokeStyle=this.color??"gray";const[r,i,e]=this.transform??[0,0,0];t.translate(r,i);const[n,a]=this.transformOrigin??[0,0],l=n,h=a;if(t.translate(l,h),t.rotate(-(e*Math.PI)/180),t.translate(-l,-h),this._points.length>1){for(let c=0;c<this._points.length-1;c+=1){const[m,p]=this._points[c],[f,T]=this._points[c+1];t.moveTo(m,p),t.lineTo(f,T)}t.stroke()}}}A([o({type:Array})],_.prototype,"points",2);A([o({type:Number})],_.prototype,"opacity",2);A([o({type:String})],_.prototype,"color",2);A([o({type:Number,attribute:"line-width"})],_.prototype,"lineWidth",2);A([o({type:Array})],_.prototype,"transform",2);A([o({type:Array,attribute:"transform-origin"})],_.prototype,"transformOrigin",2);A([o({type:Array,attribute:"draw-origin"})],_.prototype,"drawOrigin",2);A([o({type:Array,attribute:"z-index"})],_.prototype,"zIndex",2);A([V()],_.prototype,"_points",2);customElements.get("frc-canvas-line")||customElements.define("frc-canvas-line",_);var dt=Object.defineProperty,mt=Object.getOwnPropertyDescriptor,b=(s,t,r,i)=>{for(var e=i>1?void 0:i?mt(t,r):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(e=(i?a(t,r,e):a(e))||e);return i&&e&&dt(t,r,e),e};class u extends S{constructor(){super(...arguments),this.origin=[0,0],this.width=10,this.height=10,this.radii=0,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth);let[r,i]=this.origin;const[e,n]=this.drawOrigin??["center","center"];e==="center"?r-=this.width/2:e==="right"&&(r-=this.width),n==="center"?i-=this.height/2:n==="bottom"&&(i-=this.height);const[a,l,h]=this.transform??[0,0,0];r+=a,i+=l,t.translate(r,i);const[c,m]=this.transformOrigin??[0,0],p=c+this.width/2,f=m+this.height/2;t.translate(p,f),t.rotate(-(h*Math.PI)/180),t.translate(-p,-f),t.roundRect(0,0,this.width,this.height,this.radii),this.fillColor&&t.fill(),this.strokeColor&&t.stroke()}}b([o({type:Array})],u.prototype,"origin",2);b([o({type:Number})],u.prototype,"width",2);b([o({type:Number})],u.prototype,"height",2);b([o({type:Number})],u.prototype,"radii",2);b([o({type:Number})],u.prototype,"opacity",2);b([o({type:String,attribute:"stroke-color"})],u.prototype,"strokeColor",2);b([o({type:Number,attribute:"stroke-width"})],u.prototype,"strokeWidth",2);b([o({type:String,attribute:"fill-color"})],u.prototype,"fillColor",2);b([o({type:Array})],u.prototype,"transform",2);b([o({type:Array,attribute:"transform-origin"})],u.prototype,"transformOrigin",2);b([o({type:Array,attribute:"draw-origin"})],u.prototype,"drawOrigin",2);b([o({type:Array,attribute:"z-index"})],u.prototype,"zIndex",2);customElements.get("frc-canvas-rect")||customElements.define("frc-canvas-rect",u);var gt=Object.defineProperty,ut=Object.getOwnPropertyDescriptor,v=(s,t,r,i)=>{for(var e=i>1?void 0:i?ut(t,r):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(e=(i?a(t,r,e):a(e))||e);return i&&e&&gt(t,r,e),e};class y extends S{constructor(){super(...arguments),this.origin=[0,0],this.radius=10,this.startAngle=0,this.endAngle=360,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth);let[r,i]=this.origin;const[e,n]=this.drawOrigin??["center","center"];e==="left"?r+=this.radius:e==="right"&&(r-=this.radius),n==="top"?i+=this.radius:n==="bottom"&&(i-=this.radius);const[a,l,h]=this.transform??[0,0,0];r+=a,i+=l,t.translate(r,i);const[c,m]=this.transformOrigin??[0,0],p=c,f=m;t.translate(p,f),t.rotate(-(h*Math.PI)/180),t.translate(-p,-f),t.beginPath(),t.arc(0,0,this.radius,-(this.startAngle??0)*Math.PI/180,-(this.endAngle??360)*Math.PI/180,!0),this.fillColor&&t.fill(),this.strokeColor&&t.stroke()}}v([o({type:Array})],y.prototype,"origin",2);v([o({type:Number})],y.prototype,"radius",2);v([o({type:Number,attribute:"start-angle"})],y.prototype,"startAngle",2);v([o({type:Number,attribute:"end-angle"})],y.prototype,"endAngle",2);v([o({type:Number})],y.prototype,"opacity",2);v([o({type:String,attribute:"stroke-color"})],y.prototype,"strokeColor",2);v([o({type:Number,attribute:"stroke-width"})],y.prototype,"strokeWidth",2);v([o({type:String,attribute:"fill-color"})],y.prototype,"fillColor",2);v([o({type:Array})],y.prototype,"transform",2);v([o({type:Array,attribute:"transform-origin"})],y.prototype,"transformOrigin",2);v([o({type:Array,attribute:"draw-origin"})],y.prototype,"drawOrigin",2);v([o({type:Array,attribute:"z-index"})],y.prototype,"zIndex",2);customElements.get("frc-canvas-circle")||customElements.define("frc-canvas-circle",y);var yt=Object.defineProperty,wt=Object.getOwnPropertyDescriptor,O=(s,t,r,i)=>{for(var e=i>1?void 0:i?wt(t,r):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(e=(i?a(t,r,e):a(e))||e);return i&&e&&yt(t,r,e),e};class C extends S{constructor(){super(...arguments),this.origin=[0,0],this.sides=5,this.radius=10,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth);let[r,i]=this.origin;const[e,n]=this.drawOrigin??["center","center"];e==="left"?r+=this.radius:e==="right"&&(r-=this.radius),n==="top"?i+=this.radius:n==="bottom"&&(i-=this.radius);const[a,l,h]=this.transform??[0,0,0];r+=a,i+=l,t.translate(r,i);const[c,m]=this.transformOrigin??[0,0],p=c,f=m;if(t.translate(p,f),t.rotate(-(h*Math.PI)/180),t.translate(-p,-f),this.sides<3)return;const T=Math.PI*2/this.sides;t.beginPath();for(let $=0;$<this.sides;$+=1){const x=$*T,j=this.radius*Math.cos(x),z=this.radius*Math.sin(x);$===0?t.moveTo(j,z):t.lineTo(j,z)}t.closePath(),this.fillColor&&t.fill(),this.strokeColor&&t.stroke()}}O([o({type:Array})],C.prototype,"origin",2);O([o({type:Number})],C.prototype,"sides",2);O([o({type:Number})],C.prototype,"radius",2);O([o({type:Number})],C.prototype,"opacity",2);O([o({type:String,attribute:"stroke-color"})],C.prototype,"strokeColor",2);O([o({type:Number,attribute:"stroke-width"})],C.prototype,"strokeWidth",2);O([o({type:String,attribute:"fill-color"})],C.prototype,"fillColor",2);O([o({type:Array})],C.prototype,"transform",2);O([o({type:Array,attribute:"transform-origin"})],C.prototype,"transformOrigin",2);O([o({type:Array,attribute:"draw-origin"})],C.prototype,"drawOrigin",2);O([o({type:Array,attribute:"z-index"})],C.prototype,"zIndex",2);customElements.get("frc-canvas-ngon")||customElements.define("frc-canvas-ngon",C);var bt=Object.defineProperty,vt=Object.getOwnPropertyDescriptor,F=(s,t,r,i)=>{for(var e=i>1?void 0:i?vt(t,r):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(e=(i?a(t,r,e):a(e))||e);return i&&e&&bt(t,r,e),e};class R extends S{constructor(){super(...arguments),this.transform=[0,0,0],this.transformOrigin=[0,0],this.zIndex=0}draw(t){const{ctx:r}=t,[i,e,n]=this.transform??[0,0,0];r.translate(i,e);const[a,l]=this.transformOrigin??[0,0],h=a,c=l;r.translate(h,c),r.rotate(-(n*Math.PI)/180),r.translate(-h,-c),[...this.children].forEach(m=>{var f;r.save(),r.beginPath();const p=m;(f=p.draw)==null||f.call(p,t),r.restore()})}}F([o({type:Array})],R.prototype,"transform",2);F([o({type:Array,attribute:"transform-origin"})],R.prototype,"transformOrigin",2);F([o({type:Array,attribute:"z-index"})],R.prototype,"zIndex",2);customElements.get("frc-canvas-group")||customElements.define("frc-canvas-group",R);var Ct=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,w=(s,t,r,i)=>{for(var e=i>1?void 0:i?Ot(t,r):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(e=(i?a(t,r,e):a(e))||e);return i&&e&&Ct(t,r,e),e};class g extends S{constructor(){super(...arguments),this.text="",this.origin=[0,0],this.maxWidth=null,this.fontName="sans-serif",this.fontSize=12,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity??1)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor),t.textAlign="center",t.textBaseline="middle",t.font=`${this.fontSize??12}px ${this.fontName||"sans-serif"}`;let[r,i]=this.origin??[0,0];const{width:e,actualBoundingBoxAscent:n,actualBoundingBoxDescent:a}=t.measureText(this.text??""),l=n+a,[h,c]=this.drawOrigin??["center","center"];h==="left"?r+=e/2:h==="right"&&(r-=e/2),c==="top"?i+=l/2:c==="bottom"&&(i-=l/2);const[m,p,f]=this.transform??[0,0,0];r+=m,i+=p,t.translate(r,i);const[T,$]=this.transformOrigin??[0,0],x=T,j=$;t.translate(x,j),t.rotate(-(f*Math.PI)/180),t.translate(-x,-j),this.fillColor&&t.fillText(this.text??"",0,0),this.strokeColor&&(t.lineWidth=this.strokeWidth??2,t.strokeText(this.text??"",0,0))}}w([o({type:String})],g.prototype,"text",2);w([o({type:Array})],g.prototype,"origin",2);w([o({type:Number,attribute:"max-width"})],g.prototype,"maxWidth",2);w([o({type:String,attribute:"font-name"})],g.prototype,"fontName",2);w([o({type:Number,attribute:"font-size"})],g.prototype,"fontSize",2);w([o({type:Number})],g.prototype,"opacity",2);w([o({type:String,attribute:"stroke-color"})],g.prototype,"strokeColor",2);w([o({type:Number,attribute:"stroke-width"})],g.prototype,"strokeWidth",2);w([o({type:String,attribute:"fill-color"})],g.prototype,"fillColor",2);w([o({type:Array})],g.prototype,"transform",2);w([o({type:Array,attribute:"transform-origin"})],g.prototype,"transformOrigin",2);w([o({type:Array,attribute:"draw-origin"})],g.prototype,"drawOrigin",2);w([o({type:Array,attribute:"z-index"})],g.prototype,"zIndex",2);customElements.get("frc-canvas-text")||customElements.define("frc-canvas-text",g);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const It=at(class extends ht{constructor(){super(...arguments),this.key=it}render(s,t){return this.key=s,t}update(s,[t,r]){return t!==this.key&&(lt(s),this.key=t),r}});var Z="Expected a function",J=0/0,_t="[object Symbol]",Tt=/^\s+|\s+$/g,St=/^[-+]0x[0-9a-f]+$/i,At=/^0b[01]+$/i,Pt=/^0o[0-7]+$/i,Et=parseInt,$t=typeof W=="object"&&W&&W.Object===Object&&W,jt=typeof self=="object"&&self&&self.Object===Object&&self,Dt=$t||jt||Function("return this")(),xt=Object.prototype,zt=xt.toString,kt=Math.max,Nt=Math.min,Y=function(){return Dt.Date.now()};function Mt(s,t,r){var i,e,n,a,l,h,c=0,m=!1,p=!1,f=!0;if(typeof s!="function")throw new TypeError(Z);t=K(t)||0,L(r)&&(m=!!r.leading,p="maxWait"in r,n=p?kt(K(r.maxWait)||0,t):n,f="trailing"in r?!!r.trailing:f);function T(d){var D=i,N=e;return i=e=void 0,c=d,a=s.apply(N,D),a}function $(d){return c=d,l=setTimeout(z,t),m?T(d):a}function x(d){var D=d-h,N=d-c,H=t-D;return p?Nt(H,n-N):H}function j(d){var D=d-h,N=d-c;return h===void 0||D>=t||D<0||p&&N>=n}function z(){var d=Y();if(j(d))return q(d);l=setTimeout(z,x(d))}function q(d){return l=void 0,f&&i?T(d):(i=e=void 0,a)}function et(){l!==void 0&&clearTimeout(l),c=0,i=h=e=l=void 0}function rt(){return l===void 0?a:q(Y())}function X(){var d=Y(),D=j(d);if(i=arguments,e=this,h=d,D){if(l===void 0)return $(h);if(p)return l=setTimeout(z,t),T(h)}return l===void 0&&(l=setTimeout(z,t)),a}return X.cancel=et,X.flush=rt,X}function Wt(s,t,r){var i=!0,e=!0;if(typeof s!="function")throw new TypeError(Z);return L(r)&&(i="leading"in r?!!r.leading:i,e="trailing"in r?!!r.trailing:e),Mt(s,t,{leading:i,maxWait:t,trailing:e})}function L(s){var t=typeof s;return!!s&&(t=="object"||t=="function")}function Bt(s){return!!s&&typeof s=="object"}function Lt(s){return typeof s=="symbol"||Bt(s)&&zt.call(s)==_t}function K(s){if(typeof s=="number")return s;if(Lt(s))return J;if(L(s)){var t=typeof s.valueOf=="function"?s.valueOf():s;s=L(t)?t+"":t}if(typeof s!="string")return s===0?s:+s;s=s.replace(Tt,"");var r=At.test(s);return r||Pt.test(s)?Et(s.slice(2),r?2:8):St.test(s)?J:+s}var Rt=Wt,Xt=Object.defineProperty,Ut=Object.getOwnPropertyDescriptor,k=(s,t,r,i)=>{for(var e=i>1?void 0:i?Ut(t,r):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(e=(i?a(t,r,e):a(e))||e);return i&&e&&Xt(t,r,e),e};class P extends S{constructor(){super(...arguments),this.src="",this.width=null,this.height=null,this.origin=[0,0],this.disabled=!1,this.hideCrosshair=!1,this.crosshairColor="white",this.image=new Image,this.connected=!1,this.throttleUpdateImage=Rt(()=>this.updateImage(),5e3),this.onImageLoadBound=this.onImageLoad.bind(this),this.onImageErrorBound=this.onImageError.bind(this)}getImageSize(t){const r={width:this.width||t.width,height:this.height||t.height};return this.image.height/this.image.width*r.width>r.height?{height:r.height,width:this.image.width/this.image.height*r.height}:{height:this.image.height/this.image.width*r.width,width:r.width}}draw({ctx:t,canvas:r}){const{width:i,height:e}=this.getImageSize(r),n={width:this.width||r.width,height:this.height||r.height},[a,l]=this.origin??[0,0];if(t.translate(a,l),!!this.connected)try{const h=(n.width-i)/2,c=(n.height-e)/2;t.drawImage(this.image,h,c,i,e),this.hideCrosshair||(t.strokeStyle=this.crosshairColor||"white",t.lineWidth=1,t.beginPath(),t.setLineDash([7,7]),t.moveTo(h,c+e/2),t.lineTo(h+i,c+e/2),t.stroke(),t.beginPath(),t.setLineDash([5,5]),t.moveTo(h+i/2,c),t.lineTo(h+i/2,c+e),t.stroke())}catch{this.throttleUpdateImage()}}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.loadedTimeout),this.image.src=""}connectedCallback(){super.connectedCallback(),this.throttleUpdateImage()}isImageLoaded(){return this.image.complete&&this.image.naturalHeight!==0}updateImage(){if(clearTimeout(this.loadedTimeout),!this.disabled){if(!this.isConnected){this.setConnected(!1);return}this.isImageLoaded()||(this.loadedTimeout=setTimeout(()=>{this.throttleUpdateImage()},5e3),this.image.removeEventListener("load",this.onImageLoadBound),this.image.removeEventListener("error",this.onImageErrorBound),this.image.src="",this.image=new Image,this.setConnected(!1),this.image.src=this.src??"",this.image.addEventListener("load",this.onImageLoadBound),this.image.addEventListener("error",this.onImageErrorBound))}}setConnected(t){this.connected&&!t?(this.connected=!1,this.dispatchDisconnect()):!this.connected&&t&&(this.connected=!0,this.dispatchConnect())}onImageLoad(){this.setConnected(!0),clearTimeout(this.loadedTimeout)}onImageError(){this.throttleUpdateImage()}dispatchConnect(){this.dispatchEvent(new CustomEvent("connect",{bubbles:!0,composed:!0}))}dispatchDisconnect(){this.dispatchEvent(new CustomEvent("disconnect",{bubbles:!0,composed:!0}))}updated(t){t.has("src")&&this.throttleUpdateImage(),t.has("disabled")&&(this.disabled?(clearTimeout(this.loadedTimeout),this.image.src=""):this.throttleUpdateImage())}}P.styles=Q`
    :host {
      display: inline-block;
      width: 400px;
      height: 300px;
    }

    canvas {
      width: 100%;
      height: 100%;
    }
  `;k([o({type:String})],P.prototype,"src",2);k([o({type:Number})],P.prototype,"width",2);k([o({type:Number})],P.prototype,"height",2);k([o({type:Array})],P.prototype,"origin",2);k([o({type:Boolean})],P.prototype,"disabled",2);k([o({type:Boolean,attribute:"hide-crosshair"})],P.prototype,"hideCrosshair",2);k([o({type:String,attribute:"crosshair-color"})],P.prototype,"crosshairColor",2);customElements.get("frc-canvas-mjpg-stream-instance")||customElements.define("frc-canvas-mjpg-stream-instance",P);var Yt=Object.defineProperty,Ft=Object.getOwnPropertyDescriptor,E=(s,t,r,i)=>{for(var e=i>1?void 0:i?Ft(t,r):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(e=(i?a(t,r,e):a(e))||e);return i&&e&&Yt(t,r,e),e};const tt=class extends S{constructor(){super(...arguments),this.srcs=[],this.width=null,this.height=null,this.origin=[0,0],this.waitImage=tt.DEFAULT_WAIT_IMAGE,this.hideCrosshair=!1,this.crosshairColor="white",this.waitImageElement=new Image}getImageSize(s){const t={width:this.width||s.width,height:this.height||s.height};return this.waitImageElement.height/this.waitImageElement.width*t.width>t.height?{height:t.height,width:this.waitImageElement.width/this.waitImageElement.height*t.height}:{height:this.waitImageElement.height/this.waitImageElement.width*t.width,width:t.width}}draw(s){const{canvas:t,ctx:r}=s,i=[...this.streamInstances].find(e=>e.src===this._connectedSrc);if(i)i.draw(s);else{const{width:e,height:n}=this.getImageSize(t),a={width:this.width||t.width,height:this.height||t.height},[l,h]=this.origin??[0,0];r.translate(l,h);try{r.drawImage(this.waitImageElement,(a.width-e)/2,(a.height-n)/2,e,n)}catch{}}}updated(s){s.has("srcs")&&this._connectedSrc&&!this.srcs.includes(this._connectedSrc)&&(this._connectedSrc=void 0),s.has("waitImage")&&(this.waitImageElement.src=this.waitImage)}onConnect(s){this._connectedSrc||(this._connectedSrc=s)}onDisconnect(s){this._connectedSrc===s&&(this._connectedSrc=void 0)}renderStreamInstance(s){return B`
      ${It(s,B`
          <frc-canvas-mjpg-stream-instance
            @connect=${()=>this.onConnect(s)}
            @disconnect=${()=>this.onDisconnect(s)}
            src=${s}
            width=${U(this.width!==null?this.width:void 0)}
            height=${U(this.height!==null?this.height:void 0)}
            .origin=${U(this.origin!==null?this.origin:void 0)}
            ?disabled=${this._connectedSrc&&this._connectedSrc!==s}
            ?hide-crosshair=${this.hideCrosshair}
            crosshair-color=${this.crosshairColor}
          ></frc-canvas-mjpg-stream-instance>
        `)}
    `}render(){return B`
      ${this.srcs.map(s=>this.renderStreamInstance(s.replace("mjpg:","")))}
    `}};let I=tt;I.DEFAULT_WAIT_IMAGE="./no-camera-stream.jpg";E([o({type:Array})],I.prototype,"srcs",2);E([o({type:Number})],I.prototype,"width",2);E([o({type:Number})],I.prototype,"height",2);E([o({type:Array})],I.prototype,"origin",2);E([o({type:String,attribute:"wait-image"})],I.prototype,"waitImage",2);E([o({type:Boolean,attribute:"hide-crosshair"})],I.prototype,"hideCrosshair",2);E([o({type:String,attribute:"crosshair-color"})],I.prototype,"crosshairColor",2);E([V()],I.prototype,"_connectedSrc",2);E([ct("frc-canvas-mjpg-stream-instance")],I.prototype,"streamInstances",2);customElements.get("frc-canvas-mjpg-stream")||customElements.define("frc-canvas-mjpg-stream",I);var Gt=Object.defineProperty,qt=Object.getOwnPropertyDescriptor,G=(s,t,r,i)=>{for(var e=i>1?void 0:i?qt(t,r):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(e=(i?a(t,r,e):a(e))||e);return i&&e&&Gt(t,r,e),e};class M extends S{constructor(){super(...arguments),this.width=null,this.backgroundColor="black"}getCanvasCtx(){return this.canvas.getContext("2d")}drawChildren(){const t={canvas:this.canvas,ctx:this.getCanvasCtx(),domRect:this.getBoundingClientRect()};[...this.children].forEach(r=>{var n;const i=this.getCanvasCtx();i.save(),i.beginPath();const e=r;(n=e.draw)==null||n.call(e,t),i.restore()})}drawBackground(){const t=this.getCanvasCtx();t.save(),t.fillStyle=this.backgroundColor,t.fillRect(0,0,this.canvas.width,this.canvas.height),t.restore()}drawCanvas(){this.drawBackground(),this.drawChildren(),window.requestAnimationFrame(()=>{this.drawCanvas()})}firstUpdated(){this.drawCanvas(),new ResizeObserver(()=>this.resized()).observe(this),this.resized()}resized(){const t=this.getBoundingClientRect(),{width:r,height:i}=t;typeof this.width!="number"?(this.canvas.width=r,this.canvas.height=i):(this.canvas.width=this.width,this.canvas.height=this.width*i/r)}render(){return B` <canvas></canvas> `}}M.styles=Q`
    :host {
      display: inline-block;
      width: 400px;
      height: 300px;
    }

    canvas {
      width: 100%;
      height: 100%;
    }

    [part='box'] {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-content: center;
      flex-wrap: wrap;
      background-color: var(--box-color);
      text-align: center;
    }
  `;G([ot("canvas")],M.prototype,"canvas",2);G([o({type:Number})],M.prototype,"width",2);G([o({type:String,attribute:"background-color"})],M.prototype,"backgroundColor",2);customElements.get("frc-canvas")||customElements.define("frc-canvas",M);
//# sourceMappingURL=canvas-6208d990.js.map
