import{s as S,T as it,i as Q,x as B}from"./lit-element-336289fd.js";import{n as o}from"./property-a00a2a3e.js";import{a as st,e as ot}from"./query-5f0bf39c.js";import{r as V}from"./state-0f1c18cb.js";import{g as nt}from"./get-poses-54352fcb.js";import{e as at,i as ht}from"./style-map-1987af2b.js";import{m as lt}from"./directive-helpers-0e49106b.js";import{o as U}from"./if-defined-83631f70.js";import{c as W,g as ct}from"./_commonjsHelpers-725317a4.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let pt;function ft(s){return(t,e)=>st(t,e,{get(){return(this.renderRoot??pt??(pt=document.createDocumentFragment())).querySelectorAll(s)}})}var dt=Object.defineProperty,mt=Object.getOwnPropertyDescriptor,A=(s,t,e,i)=>{for(var r=i>1?void 0:i?mt(t,e):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&dt(t,e,r),r};class _ extends S{constructor(){super(...arguments),this.points=[],this.opacity=1,this.color=null,this.lineWidth=2,this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["left","top"],this.zIndex=0,this._points=[]}updated(t){t.has("points")&&(this._points=nt(this.points,2))}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),t.lineWidth=this.lineWidth??2,t.strokeStyle=this.color??"gray";const[e,i,r]=this.transform??[0,0,0];t.translate(e,i);const[n,a]=this.transformOrigin??[0,0],l=n,h=a;if(t.translate(l,h),t.rotate(-(r*Math.PI)/180),t.translate(-l,-h),this._points.length>1){for(let c=0;c<this._points.length-1;c+=1){const[m,p]=this._points[c],[f,T]=this._points[c+1];t.moveTo(m,p),t.lineTo(f,T)}t.stroke()}}}A([o({type:Array})],_.prototype,"points",2);A([o({type:Number})],_.prototype,"opacity",2);A([o({type:String})],_.prototype,"color",2);A([o({type:Number,attribute:"line-width"})],_.prototype,"lineWidth",2);A([o({type:Array})],_.prototype,"transform",2);A([o({type:Array,attribute:"transform-origin"})],_.prototype,"transformOrigin",2);A([o({type:Array,attribute:"draw-origin"})],_.prototype,"drawOrigin",2);A([o({type:Array,attribute:"z-index"})],_.prototype,"zIndex",2);A([V()],_.prototype,"_points",2);customElements.get("frc-canvas-line")||customElements.define("frc-canvas-line",_);var gt=Object.defineProperty,ut=Object.getOwnPropertyDescriptor,b=(s,t,e,i)=>{for(var r=i>1?void 0:i?ut(t,e):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&gt(t,e,r),r};class u extends S{constructor(){super(...arguments),this.origin=[0,0],this.width=10,this.height=10,this.radii=0,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth);let[e,i]=this.origin;const[r,n]=this.drawOrigin??["center","center"];r==="center"?e-=this.width/2:r==="right"&&(e-=this.width),n==="center"?i-=this.height/2:n==="bottom"&&(i-=this.height);const[a,l,h]=this.transform??[0,0,0];e+=a,i+=l,t.translate(e,i);const[c,m]=this.transformOrigin??[0,0],p=c+this.width/2,f=m+this.height/2;t.translate(p,f),t.rotate(-(h*Math.PI)/180),t.translate(-p,-f),t.roundRect(0,0,this.width,this.height,this.radii),this.fillColor&&t.fill(),this.strokeColor&&t.stroke()}}b([o({type:Array})],u.prototype,"origin",2);b([o({type:Number})],u.prototype,"width",2);b([o({type:Number})],u.prototype,"height",2);b([o({type:Number})],u.prototype,"radii",2);b([o({type:Number})],u.prototype,"opacity",2);b([o({type:String,attribute:"stroke-color"})],u.prototype,"strokeColor",2);b([o({type:Number,attribute:"stroke-width"})],u.prototype,"strokeWidth",2);b([o({type:String,attribute:"fill-color"})],u.prototype,"fillColor",2);b([o({type:Array})],u.prototype,"transform",2);b([o({type:Array,attribute:"transform-origin"})],u.prototype,"transformOrigin",2);b([o({type:Array,attribute:"draw-origin"})],u.prototype,"drawOrigin",2);b([o({type:Array,attribute:"z-index"})],u.prototype,"zIndex",2);customElements.get("frc-canvas-rect")||customElements.define("frc-canvas-rect",u);var yt=Object.defineProperty,wt=Object.getOwnPropertyDescriptor,v=(s,t,e,i)=>{for(var r=i>1?void 0:i?wt(t,e):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&yt(t,e,r),r};class y extends S{constructor(){super(...arguments),this.origin=[0,0],this.radius=10,this.startAngle=0,this.endAngle=360,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth);let[e,i]=this.origin;const[r,n]=this.drawOrigin??["center","center"];r==="left"?e+=this.radius:r==="right"&&(e-=this.radius),n==="top"?i+=this.radius:n==="bottom"&&(i-=this.radius);const[a,l,h]=this.transform??[0,0,0];e+=a,i+=l,t.translate(e,i);const[c,m]=this.transformOrigin??[0,0],p=c,f=m;t.translate(p,f),t.rotate(-(h*Math.PI)/180),t.translate(-p,-f),t.beginPath(),t.arc(0,0,this.radius,-(this.startAngle??0)*Math.PI/180,-(this.endAngle??360)*Math.PI/180,!0),this.fillColor&&t.fill(),this.strokeColor&&t.stroke()}}v([o({type:Array})],y.prototype,"origin",2);v([o({type:Number})],y.prototype,"radius",2);v([o({type:Number,attribute:"start-angle"})],y.prototype,"startAngle",2);v([o({type:Number,attribute:"end-angle"})],y.prototype,"endAngle",2);v([o({type:Number})],y.prototype,"opacity",2);v([o({type:String,attribute:"stroke-color"})],y.prototype,"strokeColor",2);v([o({type:Number,attribute:"stroke-width"})],y.prototype,"strokeWidth",2);v([o({type:String,attribute:"fill-color"})],y.prototype,"fillColor",2);v([o({type:Array})],y.prototype,"transform",2);v([o({type:Array,attribute:"transform-origin"})],y.prototype,"transformOrigin",2);v([o({type:Array,attribute:"draw-origin"})],y.prototype,"drawOrigin",2);v([o({type:Array,attribute:"z-index"})],y.prototype,"zIndex",2);customElements.get("frc-canvas-circle")||customElements.define("frc-canvas-circle",y);var bt=Object.defineProperty,vt=Object.getOwnPropertyDescriptor,O=(s,t,e,i)=>{for(var r=i>1?void 0:i?vt(t,e):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&bt(t,e,r),r};class C extends S{constructor(){super(...arguments),this.origin=[0,0],this.sides=5,this.radius=10,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth);let[e,i]=this.origin;const[r,n]=this.drawOrigin??["center","center"];r==="left"?e+=this.radius:r==="right"&&(e-=this.radius),n==="top"?i+=this.radius:n==="bottom"&&(i-=this.radius);const[a,l,h]=this.transform??[0,0,0];e+=a,i+=l,t.translate(e,i);const[c,m]=this.transformOrigin??[0,0],p=c,f=m;if(t.translate(p,f),t.rotate(-(h*Math.PI)/180),t.translate(-p,-f),this.sides<3)return;const T=Math.PI*2/this.sides;t.beginPath();for(let $=0;$<this.sides;$+=1){const x=$*T,j=this.radius*Math.cos(x),z=this.radius*Math.sin(x);$===0?t.moveTo(j,z):t.lineTo(j,z)}t.closePath(),this.fillColor&&t.fill(),this.strokeColor&&t.stroke()}}O([o({type:Array})],C.prototype,"origin",2);O([o({type:Number})],C.prototype,"sides",2);O([o({type:Number})],C.prototype,"radius",2);O([o({type:Number})],C.prototype,"opacity",2);O([o({type:String,attribute:"stroke-color"})],C.prototype,"strokeColor",2);O([o({type:Number,attribute:"stroke-width"})],C.prototype,"strokeWidth",2);O([o({type:String,attribute:"fill-color"})],C.prototype,"fillColor",2);O([o({type:Array})],C.prototype,"transform",2);O([o({type:Array,attribute:"transform-origin"})],C.prototype,"transformOrigin",2);O([o({type:Array,attribute:"draw-origin"})],C.prototype,"drawOrigin",2);O([o({type:Array,attribute:"z-index"})],C.prototype,"zIndex",2);customElements.get("frc-canvas-ngon")||customElements.define("frc-canvas-ngon",C);var Ct=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,Y=(s,t,e,i)=>{for(var r=i>1?void 0:i?Ot(t,e):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Ct(t,e,r),r};class R extends S{constructor(){super(...arguments),this.transform=[0,0,0],this.transformOrigin=[0,0],this.zIndex=0}draw(t){const{ctx:e}=t,[i,r,n]=this.transform??[0,0,0];e.translate(i,r);const[a,l]=this.transformOrigin??[0,0],h=a,c=l;e.translate(h,c),e.rotate(-(n*Math.PI)/180),e.translate(-h,-c),[...this.children].forEach(m=>{var f;e.save(),e.beginPath();const p=m;(f=p.draw)==null||f.call(p,t),e.restore()})}}Y([o({type:Array})],R.prototype,"transform",2);Y([o({type:Array,attribute:"transform-origin"})],R.prototype,"transformOrigin",2);Y([o({type:Array,attribute:"z-index"})],R.prototype,"zIndex",2);customElements.get("frc-canvas-group")||customElements.define("frc-canvas-group",R);var It=Object.defineProperty,_t=Object.getOwnPropertyDescriptor,w=(s,t,e,i)=>{for(var r=i>1?void 0:i?_t(t,e):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&It(t,e,r),r};class g extends S{constructor(){super(...arguments),this.text="",this.origin=[0,0],this.maxWidth=null,this.fontName="sans-serif",this.fontSize=12,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity??1)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor),t.textAlign="center",t.textBaseline="middle",t.font=`${this.fontSize??12}px ${this.fontName||"sans-serif"}`;let[e,i]=this.origin??[0,0];const{width:r,actualBoundingBoxAscent:n,actualBoundingBoxDescent:a}=t.measureText(this.text??""),l=n+a,[h,c]=this.drawOrigin??["center","center"];h==="left"?e+=r/2:h==="right"&&(e-=r/2),c==="top"?i+=l/2:c==="bottom"&&(i-=l/2);const[m,p,f]=this.transform??[0,0,0];e+=m,i+=p,t.translate(e,i);const[T,$]=this.transformOrigin??[0,0],x=T,j=$;t.translate(x,j),t.rotate(-(f*Math.PI)/180),t.translate(-x,-j),this.fillColor&&t.fillText(this.text??"",0,0),this.strokeColor&&(t.lineWidth=this.strokeWidth??2,t.strokeText(this.text??"",0,0))}}w([o({type:String})],g.prototype,"text",2);w([o({type:Array})],g.prototype,"origin",2);w([o({type:Number,attribute:"max-width"})],g.prototype,"maxWidth",2);w([o({type:String,attribute:"font-name"})],g.prototype,"fontName",2);w([o({type:Number,attribute:"font-size"})],g.prototype,"fontSize",2);w([o({type:Number})],g.prototype,"opacity",2);w([o({type:String,attribute:"stroke-color"})],g.prototype,"strokeColor",2);w([o({type:Number,attribute:"stroke-width"})],g.prototype,"strokeWidth",2);w([o({type:String,attribute:"fill-color"})],g.prototype,"fillColor",2);w([o({type:Array})],g.prototype,"transform",2);w([o({type:Array,attribute:"transform-origin"})],g.prototype,"transformOrigin",2);w([o({type:Array,attribute:"draw-origin"})],g.prototype,"drawOrigin",2);w([o({type:Array,attribute:"z-index"})],g.prototype,"zIndex",2);customElements.get("frc-canvas-text")||customElements.define("frc-canvas-text",g);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Tt=at(class extends ht{constructor(){super(...arguments),this.key=it}render(s,t){return this.key=s,t}update(s,[t,e]){return t!==this.key&&(lt(s),this.key=t),e}});var Z="Expected a function",J=0/0,St="[object Symbol]",At=/^\s+|\s+$/g,Et=/^[-+]0x[0-9a-f]+$/i,Pt=/^0b[01]+$/i,$t=/^0o[0-7]+$/i,jt=parseInt,Dt=typeof W=="object"&&W&&W.Object===Object&&W,xt=typeof self=="object"&&self&&self.Object===Object&&self,zt=Dt||xt||Function("return this")(),kt=Object.prototype,Nt=kt.toString,Mt=Math.max,Wt=Math.min,F=function(){return zt.Date.now()};function Bt(s,t,e){var i,r,n,a,l,h,c=0,m=!1,p=!1,f=!0;if(typeof s!="function")throw new TypeError(Z);t=K(t)||0,L(e)&&(m=!!e.leading,p="maxWait"in e,n=p?Mt(K(e.maxWait)||0,t):n,f="trailing"in e?!!e.trailing:f);function T(d){var D=i,N=r;return i=r=void 0,c=d,a=s.apply(N,D),a}function $(d){return c=d,l=setTimeout(z,t),m?T(d):a}function x(d){var D=d-h,N=d-c,H=t-D;return p?Wt(H,n-N):H}function j(d){var D=d-h,N=d-c;return h===void 0||D>=t||D<0||p&&N>=n}function z(){var d=F();if(j(d))return q(d);l=setTimeout(z,x(d))}function q(d){return l=void 0,f&&i?T(d):(i=r=void 0,a)}function et(){l!==void 0&&clearTimeout(l),c=0,i=h=r=l=void 0}function rt(){return l===void 0?a:q(F())}function X(){var d=F(),D=j(d);if(i=arguments,r=this,h=d,D){if(l===void 0)return $(h);if(p)return l=setTimeout(z,t),T(h)}return l===void 0&&(l=setTimeout(z,t)),a}return X.cancel=et,X.flush=rt,X}function Lt(s,t,e){var i=!0,r=!0;if(typeof s!="function")throw new TypeError(Z);return L(e)&&(i="leading"in e?!!e.leading:i,r="trailing"in e?!!e.trailing:r),Bt(s,t,{leading:i,maxWait:t,trailing:r})}function L(s){var t=typeof s;return!!s&&(t=="object"||t=="function")}function Rt(s){return!!s&&typeof s=="object"}function Xt(s){return typeof s=="symbol"||Rt(s)&&Nt.call(s)==St}function K(s){if(typeof s=="number")return s;if(Xt(s))return J;if(L(s)){var t=typeof s.valueOf=="function"?s.valueOf():s;s=L(t)?t+"":t}if(typeof s!="string")return s===0?s:+s;s=s.replace(At,"");var e=Pt.test(s);return e||$t.test(s)?jt(s.slice(2),e?2:8):Et.test(s)?J:+s}var Ut=Lt;const Ft=ct(Ut);var Yt=Object.defineProperty,Gt=Object.getOwnPropertyDescriptor,k=(s,t,e,i)=>{for(var r=i>1?void 0:i?Gt(t,e):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Yt(t,e,r),r};class E extends S{constructor(){super(...arguments),this.src="",this.width=null,this.height=null,this.origin=[0,0],this.disabled=!1,this.hideCrosshair=!1,this.crosshairColor="white",this.image=new Image,this.connected=!1,this.throttleUpdateImage=Ft(()=>this.updateImage(),5e3),this.onImageLoadBound=this.onImageLoad.bind(this),this.onImageErrorBound=this.onImageError.bind(this)}getImageSize(t){const e={width:this.width||t.width,height:this.height||t.height};return this.image.height/this.image.width*e.width>e.height?{height:e.height,width:this.image.width/this.image.height*e.height}:{height:this.image.height/this.image.width*e.width,width:e.width}}draw({ctx:t,canvas:e}){const{width:i,height:r}=this.getImageSize(e),n={width:this.width||e.width,height:this.height||e.height},[a,l]=this.origin??[0,0];if(t.translate(a,l),!!this.connected)try{const h=(n.width-i)/2,c=(n.height-r)/2;t.drawImage(this.image,h,c,i,r),this.hideCrosshair||(t.strokeStyle=this.crosshairColor||"white",t.lineWidth=1,t.beginPath(),t.setLineDash([7,7]),t.moveTo(h,c+r/2),t.lineTo(h+i,c+r/2),t.stroke(),t.beginPath(),t.setLineDash([5,5]),t.moveTo(h+i/2,c),t.lineTo(h+i/2,c+r),t.stroke())}catch{this.throttleUpdateImage()}}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.loadedTimeout),this.image.src=""}connectedCallback(){super.connectedCallback(),this.throttleUpdateImage()}isImageLoaded(){return this.image.complete&&this.image.naturalHeight!==0}updateImage(){if(clearTimeout(this.loadedTimeout),!this.disabled){if(!this.isConnected){this.setConnected(!1);return}this.isImageLoaded()||(this.loadedTimeout=setTimeout(()=>{this.throttleUpdateImage()},5e3),this.image.removeEventListener("load",this.onImageLoadBound),this.image.removeEventListener("error",this.onImageErrorBound),this.image.src="",this.image=new Image,this.setConnected(!1),this.image.src=this.src??"",this.image.addEventListener("load",this.onImageLoadBound),this.image.addEventListener("error",this.onImageErrorBound))}}setConnected(t){this.connected&&!t?(this.connected=!1,this.dispatchDisconnect()):!this.connected&&t&&(this.connected=!0,this.dispatchConnect())}onImageLoad(){this.setConnected(!0),clearTimeout(this.loadedTimeout)}onImageError(){this.throttleUpdateImage()}dispatchConnect(){this.dispatchEvent(new CustomEvent("connect",{bubbles:!0,composed:!0}))}dispatchDisconnect(){this.dispatchEvent(new CustomEvent("disconnect",{bubbles:!0,composed:!0}))}updated(t){t.has("src")&&this.throttleUpdateImage(),t.has("disabled")&&(this.disabled?(clearTimeout(this.loadedTimeout),this.image.src=""):this.throttleUpdateImage())}}E.styles=Q`
    :host {
      display: inline-block;
      width: 400px;
      height: 300px;
    }

    canvas {
      width: 100%;
      height: 100%;
    }
  `;k([o({type:String})],E.prototype,"src",2);k([o({type:Number})],E.prototype,"width",2);k([o({type:Number})],E.prototype,"height",2);k([o({type:Array})],E.prototype,"origin",2);k([o({type:Boolean})],E.prototype,"disabled",2);k([o({type:Boolean,attribute:"hide-crosshair"})],E.prototype,"hideCrosshair",2);k([o({type:String,attribute:"crosshair-color"})],E.prototype,"crosshairColor",2);customElements.get("frc-canvas-mjpg-stream-instance")||customElements.define("frc-canvas-mjpg-stream-instance",E);var qt=Object.defineProperty,Ht=Object.getOwnPropertyDescriptor,P=(s,t,e,i)=>{for(var r=i>1?void 0:i?Ht(t,e):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&qt(t,e,r),r};const I=class tt extends S{constructor(){super(...arguments),this.srcs=[],this.width=null,this.height=null,this.origin=[0,0],this.waitImage=tt.DEFAULT_WAIT_IMAGE,this.hideCrosshair=!1,this.crosshairColor="white",this.waitImageElement=new Image}getImageSize(t){const e={width:this.width||t.width,height:this.height||t.height};return this.waitImageElement.height/this.waitImageElement.width*e.width>e.height?{height:e.height,width:this.waitImageElement.width/this.waitImageElement.height*e.height}:{height:this.waitImageElement.height/this.waitImageElement.width*e.width,width:e.width}}draw(t){const{canvas:e,ctx:i}=t,r=[...this.streamInstances].find(n=>n.src===this._connectedSrc);if(r)r.draw(t);else{const{width:n,height:a}=this.getImageSize(e),l={width:this.width||e.width,height:this.height||e.height},[h,c]=this.origin??[0,0];i.translate(h,c);try{i.drawImage(this.waitImageElement,(l.width-n)/2,(l.height-a)/2,n,a)}catch{}}}updated(t){t.has("srcs")&&this._connectedSrc&&!this.srcs.includes(this._connectedSrc)&&(this._connectedSrc=void 0),t.has("waitImage")&&(this.waitImageElement.src=this.waitImage)}onConnect(t){this._connectedSrc||(this._connectedSrc=t)}onDisconnect(t){this._connectedSrc===t&&(this._connectedSrc=void 0)}renderStreamInstance(t){return B`
      ${Tt(t,B`
          <frc-canvas-mjpg-stream-instance
            @connect=${()=>this.onConnect(t)}
            @disconnect=${()=>this.onDisconnect(t)}
            src=${t}
            width=${U(this.width!==null?this.width:void 0)}
            height=${U(this.height!==null?this.height:void 0)}
            .origin=${U(this.origin!==null?this.origin:void 0)}
            ?disabled=${this._connectedSrc&&this._connectedSrc!==t}
            ?hide-crosshair=${this.hideCrosshair}
            crosshair-color=${this.crosshairColor}
          ></frc-canvas-mjpg-stream-instance>
        `)}
    `}render(){return B`
      ${this.srcs.map(t=>this.renderStreamInstance(t.replace("mjpg:","")))}
    `}};I.DEFAULT_WAIT_IMAGE="./no-camera-stream.jpg";P([o({type:Array})],I.prototype,"srcs",2);P([o({type:Number})],I.prototype,"width",2);P([o({type:Number})],I.prototype,"height",2);P([o({type:Array})],I.prototype,"origin",2);P([o({type:String,attribute:"wait-image"})],I.prototype,"waitImage",2);P([o({type:Boolean,attribute:"hide-crosshair"})],I.prototype,"hideCrosshair",2);P([o({type:String,attribute:"crosshair-color"})],I.prototype,"crosshairColor",2);P([V()],I.prototype,"_connectedSrc",2);P([ft("frc-canvas-mjpg-stream-instance")],I.prototype,"streamInstances",2);let Jt=I;customElements.get("frc-canvas-mjpg-stream")||customElements.define("frc-canvas-mjpg-stream",Jt);var Kt=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,G=(s,t,e,i)=>{for(var r=i>1?void 0:i?Qt(t,e):t,n=s.length-1,a;n>=0;n--)(a=s[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Kt(t,e,r),r};class M extends S{constructor(){super(...arguments),this.width=null,this.backgroundColor="black"}getCanvasCtx(){return this.canvas.getContext("2d")}drawChildren(){const t={canvas:this.canvas,ctx:this.getCanvasCtx(),domRect:this.getBoundingClientRect()};[...this.children].forEach(e=>{var n;const i=this.getCanvasCtx();i.save(),i.beginPath();const r=e;(n=r.draw)==null||n.call(r,t),i.restore()})}drawBackground(){const t=this.getCanvasCtx();t.save(),t.fillStyle=this.backgroundColor,t.fillRect(0,0,this.canvas.width,this.canvas.height),t.restore()}drawCanvas(){this.drawBackground(),this.drawChildren(),window.requestAnimationFrame(()=>{this.drawCanvas()})}firstUpdated(){this.drawCanvas(),new ResizeObserver(()=>this.resized()).observe(this),this.resized()}resized(){const t=this.getBoundingClientRect(),{width:e,height:i}=t;typeof this.width!="number"?(this.canvas.width=e,this.canvas.height=i):(this.canvas.width=this.width,this.canvas.height=this.width*i/e)}render(){return B` <canvas></canvas> `}}M.styles=Q`
    :host {
      display: inline-block;
      width: 400px;
      height: 300px;
    }

    canvas {
      width: 100%;
      height: 100%;
    }

    [part='box'] {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-content: center;
      flex-wrap: wrap;
      background-color: var(--box-color);
      text-align: center;
    }
  `;G([ot("canvas")],M.prototype,"canvas",2);G([o({type:Number})],M.prototype,"width",2);G([o({type:String,attribute:"background-color"})],M.prototype,"backgroundColor",2);customElements.get("frc-canvas")||customElements.define("frc-canvas",M);
